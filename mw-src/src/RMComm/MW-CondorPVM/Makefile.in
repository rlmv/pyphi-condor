#-------------------------------------------------------------------------
# This file was automatically generated by Automake, and manually modified 
# to make it simpler and cleaner. There are three sections in the file:
# 1) Macros
# 2) Recursive Rules and Suffixes (implicit rules)
# 3) Explicit Rules
#-------------------------------------------------------------------------

#-------------------------------------------------------------------------
#   Section 1) Macros
#-------------------------------------------------------------------------
top_srcdir = @top_srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
libdir = @libdir@
includedir = @includedir@

CONDOR_DIR = @CONDOR_DIR@
CXX = @CXX@
MEASURE_DEFN = @MEASURE_DEFN@
MISC_DEFN = @MISC_DEFN@
MISC_LIB = @MISC_LIB@
MW_LIBDIR = @MW_LIBDIR@
MW_LIBDIR_DEBUG = @MW_LIBDIR_DEBUG@
PVM_ROOT = @PVM_ROOT@
RANLIB = @RANLIB@
INSTALL = @INSTALL@
SOCKET_LIB = @SOCKET_LIB@
PACKAGE = @PACKAGE@
VERSION = @VERSION@

mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
AR = ar

DEFS = @DEFS@ -I.
LIBS = @LIBS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS = @LDFLAGS@
CXXFLAGS = @CXXFLAGS@ -Wall

# To work with Insure, need to "setenv DEBUG_BUILD='insure'" and write/copy a good .psrc file
ifdef DEBUG_BUILD
DEBUG_CHECKER = $(DEBUG_BUILD)
MW_LIBDIR = $(MW_LIBDIR_DEBUG)
endif

CXXCOMPILE = $(DEBUG_CHECKER) $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
CXXLD = $(DEBUG_CHECKER) $(CXX)
CXXLINK = $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -o $@

# Subdirectories
SUBDIRS = 

# Libraries to be built, and dependent source files
LIBRARIES = libMWcondorpvmmaster.a libMWcondorpvmworker.a
libNWcondorpvmmaster_a_SOURCES = MWCondorPvmRCM.ii
libMWcondorpvmmaster_a_LIBADD = MWCondorPvmRCM.o
libMWcondorpvmmaster_a_DEPENDENCIES =  MWCondorPvmRCM.o
libMWcondorpvmmaster_a_OBJECTS =

libMWcondorpvmworker_a_SOURCES = MWCondorPvmRCW.o
libMWcondorpvmworker_a_LIBADD = MWCondorPvmRCW.o
libMWcondorpvmworker_a_DEPENDENCIES =  MWCondorPvmRCW.o
libMWcondorpvmworker_a_OBJECTS =

INCLUDES = -I. -I.. -I../.. -I$(PVM_ROOT)/include $(MEASURE_DEFN)
INCLUDEFILES = MWCondorPvmRC.h

#-------------------------------------------------------------------------
#   Section 2) Explicit and Implicit Rules
#-------------------------------------------------------------------------

all: $(LIBRARIES)

libMWcondorpvmmaster.a: $(libMWcondorpvmmaster_a_OBJECTS) $(libMWcondorpvmmaster_a_DEPENDENCIES)
	-rm -f libMWcondorpvmmaster.a
	$(AR) cru libMWcondorpvmmaster.a $(libMWcondorpvmmaster_a_OBJECTS) $(libMWcondorpvmmaster_a_LIBADD)
	$(RANLIB) libMWcondorpvmmaster.a
	cp libMWcondorpvmmaster.a $(MW_LIBDIR) 

libMWcondorpvmworker.a: $(libMWcondorpvmworker_a_OBJECTS) $(libMWcondorpvmworker_a_DEPENDENCIES)
	-rm -f libMWcondorpvmworker.a
	$(AR) cru libMWcondorpvmworker.a $(libMWcondorpvmworker_a_OBJECTS) $(libMWcondorpvmworker_a_LIBADD)
	$(RANLIB) libMWcondorpvmworker.a
	cp libMWcondorpvmworker.a $(MW_LIBDIR) 

MWCondorPvmRCM.ii:MWCondorPvmRC.C
	$(CXX) -E $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS) -DPVM_MASTER MWCondorPvmRC.C > MWCondorPvmRCM.ii

MWCondorPvmRCM.o:MWCondorPvmRCM.ii
	$(CXX) -c $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS) -DPVM_MASTER MWCondorPvmRCM.ii

MWCondorPvmRCW.ii:MWCondorPvmRC.C
	$(CXX) -E $(DEFS) $(MISC_DEFN) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS) MWCondorPvmRC.C > MWCondorPvmRCW.ii

MWCondorPvmRCW.o:MWCondorPvmRCW.ii
	$(CXX) -c $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS) MWCondorPvmRCW.ii


.SUFFIXES: .C .o

.C.o:
	$(CXXCOMPILE) -c $<

#-------------------------------------------------------------------------
#   Section 3) Recursive Rules: Common
#-------------------------------------------------------------------------
install: $(LIBRARIES)
	$(mkinstalldirs) $(libdir)
	@list='$(LIBRARIES)'; for p in $$list; do \
	  if test -f $$p; then \
	    echo "  ${INSTALL} -m 644 $$p $(libdir)/$$p"; \
	    $(INSTALL) -m 644 $$p $(libdir)/$$p; \
	    echo " $(RANLIB) $(libdir)/$$p"; \
	    $(RANLIB) $(libdir)/$$p; \
	  fi; \
	done
	$(mkinstalldirs) $(includedir)
	@list='$(INCLUDEFILES)'; for p in $$list; do \
	  if test -f $$p; then \
	    echo "  ${INSTALL} -m 644 $$p $(includedir)/$$p"; \
	    $(INSTALL) -m 644 $$p $(includedir)/$$p; \
	  fi; \
	done	
	[ "__$(SUBDIRS)" = "__" ] || for subdir in `echo "$(SUBDIRS)"`; do (cd $$subdir && $(MAKE) $@) ; done

check:

clean:
	-rm -f *.o *.a *core *.ii
	[ "__$(SUBDIRS)" = "__" ] || for subdir in `echo "$(SUBDIRS)"`; do (cd $$subdir && $(MAKE) $@) ; done

distclean:
	-rm -f Makefile *.tar *.gz
	-rm -rf .deps
	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
	-rm -f *.o *.a *core *.ii
	[ "__$(SUBDIRS)" = "__" ] || for subdir in `echo "$(SUBDIRS)"`; do (cd $$subdir && $(MAKE) $@) ; done

.PHONY: all check clean distclean install
